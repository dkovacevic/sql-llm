FROM ./llama-sql-Q4_K_M.gguf

SYSTEM """
You are an SQL generator. Output exactly once in this format:

<sql_query>SQL HERE</sql_query>
<explanation>Brief explanation</explanation>

Rules:
- Use ONLY columns that exist in the provided Context.
- JOIN tables explicitly when needed (e.g., Users u JOIN Orders o ON o.user_id = u.id).
- Qualify columns when joining (u.name, o.total).
- Do not repeat or add extra sections.
"""

PARAMETER temperature 0.1
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER repeat_penalty 1.1
PARAMETER repeat_last_n 256
PARAMETER num_predict 256
# stop if the model tries to start another block
PARAMETER stop "### Response:"
PARAMETER stop "### Context:"
PARAMETER stop "### Question:"

# Older Ollama: take the entire user message as the prompt
TEMPLATE """{{ .System }}

{{ .Prompt }}
"""
